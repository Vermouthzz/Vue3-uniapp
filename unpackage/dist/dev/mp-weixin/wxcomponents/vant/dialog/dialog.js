"use strict";const u=require("../../../common/vendor.js");let o=[];const c={show:!1,title:"",width:null,theme:"default",message:"",zIndex:100,overlay:!0,selector:"#van-dialog",className:"",asyncClose:!1,beforeClose:null,transition:"scale",customStyle:"",messageAlign:"",overlayStyle:"",confirmButtonText:"确认",cancelButtonText:"取消",showConfirmButton:!0,showCancelButton:!1,closeOnClickOverlay:!1,confirmButtonOpenType:""};let n=Object.assign({},c);function g(){const e=getCurrentPages();return e[e.length-1]}const t=e=>(e=Object.assign(Object.assign({},n),e),new Promise((a,r)=>{const s=((typeof e.context=="function"?e.context():e.context)||g()).selectComponent(e.selector);delete e.context,delete e.selector,s?(s.setData(Object.assign({callback:(i,l)=>{i==="confirm"?a(l):r(l)}},e)),u.wx$1.nextTick(()=>{s.setData({show:!0})}),o.push(s)):console.warn("未找到 van-dialog 节点，请确认 selector 及 context 是否正确")}));t.alert=e=>t(e);t.confirm=e=>t(Object.assign({showCancelButton:!0},e));t.close=()=>{o.forEach(e=>{e.close()}),o=[]};t.stopLoading=()=>{o.forEach(e=>{e.stopLoading()})};t.currentOptions=n;t.defaultOptions=c;t.setDefaultOptions=e=>{n=Object.assign(Object.assign({},n),e),t.currentOptions=n};t.resetDefaultOptions=()=>{n=Object.assign({},c),t.currentOptions=n};t.resetDefaultOptions();exports.Dialog=t;
