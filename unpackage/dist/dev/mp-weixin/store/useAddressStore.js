"use strict";const t=require("../common/vendor.js"),a=require("../api/address.js"),u=t.defineStore("address",()=>{const d=t.ref(""),i=t.computed(()=>{var e;return(e=d.value)==null?void 0:e.find(s=>s.is_selected==1)}),A=t.computed(()=>{var e;return(e=d.value)==null?void 0:e.find(s=>s.selected)}),r=async()=>{const e=await a.getAddressAPI();d.value=e};return{addressList:d,getAddresList:r,delAddress:async e=>{await a.delAddressAPI(e),r()},updateAddress:async e=>{await a.updateAddressItemAPI(e),r()},selectedAddress:i,onSelectedAddress:async(e,s)=>{t.index.showLoading({mask:!0});const c=await a.updateAddressListAPI(e,s);r(),c&&t.index.hideLoading()},tapAddress:(e,s=!1,c="tap")=>{d.value.forEach(n=>n.selected=!1);const o=d.value.find(n=>n.addres_id==e);c=="tap"?o.selected=!0:o.selected=s},storeAddress:A}});exports.useAddressStore=u;
